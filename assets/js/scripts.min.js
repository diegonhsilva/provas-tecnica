var produtos,paginaAtual=1,qtdPorPagina=20,quantidade=0,qtdPaginas=0,qtdPaginasExibir=5,contadorAux=1;function listaProdutos(){$.ajax({type:"GET",url:"/front-end/mock-products.json",timeout:3e3,datatype:"JSON",contentType:"application/json; charset=utf-8",cache:!1,beforeSend:function(){$(".loader").show()},error:function(){alert("OPSS! Erro ao carregar produtos.")},success:function(a){produtos=a.products,quantidade=produtos.length,ordenar(),montarPaginacao(),$(".loader").hide()}})}function montarPaginacao(){qtdPaginas=parseInt(quantidade/qtdPorPagina)+1;for(var a=1;a<=qtdPaginas;a++)$(".paginacao ul").append('<li><a href="javascript:paginar('+a+')">'+a+"</a></li>");$(".paginacao ul li:first-child a").addClass("active"),$(".paginacao .lk-left").addClass("disable"),$(".paginacao .lista").css("max-width",qtdPaginasExibir*$(".paginacao ul li").width()),$(".paginacao ul").width(qtdPaginas*$(".paginacao ul li").width())}function paginar(a){paginaAtual=a,$(".produtos ul").html("");for(var o=(paginaAtual-1)*qtdPorPagina;o<produtos.length&&o<paginaAtual*qtdPorPagina;o++){var n='<li><a href="#"><img src="'+produtos[o].image+'"><h2>'+produtos[o].name+"</h2><h3>R$ <span>"+parseInt(produtos[o].price)+"</span></h3></a></li>";$(".produtos ul").append(n)}$(".paginacao ul li a").removeClass("active"),$(".paginacao ul li").eq(paginaAtual-1).find("a").addClass("active")}function ordenar(){switch($("#selFiltro").val()){case"crescente":produtos.sort(function(a,o){return a.name<o.name?-1:a.name>o.name?1:0});break;case"decrescente":produtos.sort(function(a,o){return o.name<a.name?-1:o.name>a.name?1:0});break;case"menor":produtos.sort(function(a,o){return a.price<o.price?-1:a.price>o.price?1:0});break;case"maior":default:produtos.sort(function(a,o){return o.price<a.price?-1:o.price>a.price?1:0})}paginar(paginaAtual=1),$(".paginacao ul").animate({left:0},500),contadorAux=1}function paginacaoRolagem(a){var o=parseInt(qtdPaginas/qtdPaginasExibir);"left"==a&&1<contadorAux?(contadorAux--,$(".paginacao ul").animate({left:-(contadorAux-1)*$(".paginacao .lista").width()},500)):"right"==a&&contadorAux<=o&&($(".paginacao ul").animate({left:-contadorAux*$(".paginacao .lista").width()},500),contadorAux++),$(".paginacao > a").removeClass("disable"),(1==contadorAux||o<contadorAux)&&$(".paginacao > a.lk-"+a).addClass("disable")}$(document).ready(function(){listaProdutos(),$("#selFiltro").change(function(){ordenar()}),$("#topo").on("click",".lk-menu, .lk-fechar",function(){$("#topo .menu-mobile").toggleClass("ativo")})});