var produtos,paginaAtual=1,qtdPorPagina=20,quantidade=0;function listaProdutos(){$.ajax({type:"GET",url:"/front-end/mock-products.json",timeout:3e3,datatype:"JSON",contentType:"application/json; charset=utf-8",cache:!1,beforeSend:function(){$(".loader").show()},error:function(){},success:function(a){produtos=a.products,quantidade=produtos.length,ordenar(),montarPaginacao(),$(".loader").hide()}})}function montarPaginacao(){for(var a=parseInt(quantidade/qtdPorPagina)+1,n=1;n<=a;n++)$(".paginacao ul").append('<li><a href="javascript:paginar('+n+')">'+n+"</a></li>");$(".paginacao ul li:first-child a").addClass("active"),$(".paginacao .lk-left").addClass("disable"),$(".paginacao ul").width(a*$(".paginacao ul li").width())}function paginar(a){paginaAtual=a,$(".produtos ul").html("");for(var n=(paginaAtual-1)*qtdPorPagina;n<produtos.length&&n<paginaAtual*qtdPorPagina;n++){var t='<li><a href="#"><img src="'+produtos[n].image+'"><h2>'+produtos[n].name+"</h2><h3>R$ <span>"+parseInt(produtos[n].price)+"</span></h3></a></li>";$(".produtos ul").append(t)}$(".paginacao ul li a").removeClass("active"),$(".paginacao ul li").eq(paginaAtual-1).find("a").addClass("active")}function ordenar(){switch($("#selFiltro").val()){case"crescente":produtos.sort(function(a,n){return a.name<n.name?-1:a.name>n.name?1:0});break;case"decrescente":produtos.sort(function(a,n){return n.name<a.name?-1:n.name>a.name?1:0});break;case"menor":produtos.sort(function(a,n){return a.price<n.price?-1:a.price>n.price?1:0});break;case"maior":default:produtos.sort(function(a,n){return n.price<a.price?-1:n.price>a.price?1:0})}paginar(paginaAtual=1)}$(document).ready(function(){listaProdutos(),$(".lk-left").click(function(){$(".paginacao ul").animate({left:0},500),$(".paginacao > a").removeClass("disable"),$(this).addClass("disable")}),$(".lk-right").click(function(){$(".paginacao ul").animate({left:-$(".paginacao .lista").width()},500),$(".paginacao > a").removeClass("disable"),$(this).addClass("disable")}),$("#selFiltro").change(function(){ordenar()})});